<div class="parallax-container">
    <div class="parallax"><img src="<?= $bannerImage ?>" alt="Banner Image" class="responsive-img"></div>
</div>

<div class="section white">
    <div class="row container">
        <div class="col l12 m12 s12">
            <img src="/images/<?= strtolower(implode('-', explode(' ', $townParam))) ?>.jpg" class="responsive-img" alt="banner"/>
        </div>
    </div>
    <div class="row container">
        <div class="col l8 m8 show-on-med-and-down hide-on-small-only">
            <p style="white-space: pre-line; text-align: justify; margin-top: 0px;">
                <?= strlen(trim($town['description'])) ? trim($town['description']) : "To be defined." ?>
            </p>
            <ul class="collapsible expandable">
                <li>
                    <div class="collapsible-header"><i class="material-icons">commute</i>How to get there?</div>
                    <div class="collapsible-body">
                        <span style="white-space: pre-line; text-align: justify; padding-top: 0px;">
                            <?= strlen(trim($town['commuterGuide'])) ? $town['commuterGuide'] : "<i>To be defined.</i>" ?>
                        </span>
                    </div>
                </li>
                <li>
                    <div class="collapsible-header"><i class="material-icons">info</i>Other Details</div>
                    <div class="collapsible-body">
                        <span style="white-space: pre-line; text-align: justify; margin-top: 0px;">
                            <?= strlen(trim($town['otherDetails'])) ? $town['otherDetails'] : "<i>To be defined.</i>" ?>
                        </span>
                    </div>
                </li>
            </ul>
        </div>
        <div class="col l4 m4 show-on-med-and-down hide-on-small-only">
            <div class="slider">
                <ul class="slides">
                    <?php foreach($places as $place): ?>
                        <li>
                            <img src="<?= $place['imageName']?>" alt="<?= $place['name']?>"/>
                            <div class="caption center-align">
                                <h3 style="cursor: pointer" onclick="window.location='/place/<?= $place['id']?>'"><?= $place['name'] ?></h3>
                            </div>
                        </li>
                    <?php endforeach;?>

                    <?php foreach($products as $product): ?>
                        <li>
                            <img src="<?= $product['imageFile']?>" alt="<?= $product['name']?>"/>
                            <div class="caption center-align">
                                <h3 style="cursor: pointer" onclick="window.location='/product/<?= $product['id']?>'"><?= $product['name'] ?></h3>
                            </div>
                        </li>
                    <?php endforeach;?>
                </ul>
            </div>
        </div>
    </div>
    <div class="row container">
        <div class="col s12 show-on-small-only hide-on-med-and-up">

        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('.parallax').parallax();
        $('.collapsible').collapsible({
            accordion: false
        });
        $('.slider').slider({
            indicators: false
        })
    });
</script>